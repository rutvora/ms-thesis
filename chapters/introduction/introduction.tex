%% The following is a directive for TeXShop to indicate the main file
%%!TEX root = thesis.tex

\chapter{Introduction}
\label{ch:Introduction}

Today, we live in a connected world where various network links are used to transmit and receive a lot of data. 
This data can be a webpage or video being streamed by a user on the internet. 
It can also be an image or a machine learning model being sent from the CPU to the GPU for processing. 
Given the extensive scale at which data is transmitted, ensuring its security and privacy during transit is of paramount importance.

In order to protect data that is in transit, we have come to rely on encryption. 
Most encryption mechanisms today rely on mathematical functions that transform the plaintext into a ciphertext. 
Only an entity with the correct key can decipher the ciphertext back into plaintext. 
As such, encryption effectively conceals the content of the data that is in transit.

While encryption protects the content of the data in transit, it does not conceal the metadata corresponding to the transmission.
Metadata, such as packet sizes and timings, are visible to any adversary with access to the shared network link.
Prior work has demonstrated that in some applications, this metadata is strongly correlated with the data being transmitted and, hence, can inadvertently leak the contents of the transmission.
For example, attackers on the internet can identify the video a user is streaming \cite{schuster2017beautyburst} or the webpage they are visiting \cite{gong2010fingerprinting, wang2014supersequence}.
Even when the data is being transmitted on an interconnect within a computer (e.g. from a CPU to a GPU or NIC), the corresponding metadata can reveal the user's text input or even the machine learning model being trained \cite{tan2021invisible}.
In the literature, such attacks are commonly known as network side-channel attacks.
Network side channels have been studied extensively in the internet [??], and to a limited extent in datacenter networks [??] and in on-chip and off-chip interconnects [??].

Network side-channel attacks in internet applications have focused on exposing the identities of communicating endpoints or compromising the privacy of transmitted traffic.
In order to defend against such attacks, several solutions have been proposed [??]. 
However, most solutions are not modular or easily deployable and do not scale well with an increasing number of end hosts.
Cs-BUFLO \cite{cai2014csbuflo} relies on OpenSSH and requires modifying the OpenSSH library on the end host. 
Walkie-talkie \cite{wang2017walkie} relies on a modification to the browser of the client.
Pacer \cite{mehta2022pacer} requires modification to the hypervisor and the kernel of the guest VM.
Other defences such as Supersequence \cite{wang2014supersequence}, Glove \cite{nithyanand2014glove} and Tamaraw \cite{cai2014tamaraw} rely solely on simulation results and do not provide any deployable system to mitigate network side-channel attacks.

Network side-channel attacks in interconnects have received far less attention.
Most prior work relies on an already constrained and out-of-date system to carry out their attacks.
Invisible Probe \cite{tan2021invisible} and Locked Down \cite{side2022lockeddown} both rely on a slower PCIe v3.0.
Invisible Probe \cite{tan2021invisible} and the FPGA-based attack by \citet{giechaskiel2022cross} both rely on creating contention in a PCIe switch or PCH that has multiple downlinks but only one uplink, resulting in easier congestion in the uplink.
% The work by \citet{khaliq2021timing} relies on a highly-constrained desktop CPU to create contention.

In this thesis, we first present a modular, portable and scalable network side-channel mitigation system called NetShaper 
\footnote{NetShaper is both the name of a differential-privacy-based framework and a system that implements the framework. This thesis focuses on the NetShaper system.} \cite{sabzi2024netshaper}.
Second, we demonstrate additional avenues that can be used to carry out side-channel attacks in interconnects and their caveats.

% \input{chapters/introduction/contributions}

% \section{Publications and Collaborations}\label{sec:collabs}


\endinput

- The security and privacy of data in transit, whether it be on the internet or within a server (on the interconnect), is important. 
- While encryption has become the norm to ensure the security and privacy of data in transit, side-channel attacks can undermine this by using metadata like the shape of the traffic.
- Side-channel attacks can affect both data being sent over the internet and over interconnects
- While there is significant prior work in defending against side channels in internet networks, the solutions are not easily deployable and are not modular.
- In addition, prior work has provided limited focus on how side-channels can be carried out on interconnects.

-------------------------------------------------------------------------------------------------------------------
Computer networks have become a fundamental component of today's computing systems.
%, scaling from global networks like the Internet to the interconnects that connect the CPU with additional devices and accelerators like the GPU. 
The Internet connects billions of devices worldwide and allows two users or devices to connect, regardless of how physically far apart they are.
Data centre networks link servers and storage systems, providing the infrastructure for large-scale computing.
Beyond these traditional networks, interconnects like PCIe and CXL enable the CPU to communicate with peripheral devices and accelerators such as the GPU.

Despite their differences in scale and usage, all of these networks have some similar characteristics, such as:
1) They require some form of addressing to send the data to the right destination. PCIe uses Bus-Device-Function (BDF) addressing, while the Internet and data centre networks may use MAC, IP addresses, or Local/Global Identifiers for the same. 
2) They utilise switches to allow multiple end-points to communicate to a single end-point. 
3) They packetise data before transmitting them and use packet-switching on the switches to efficiently transmit data from multiple endpoints. 
4) They have limited buffers on their controllers to buffer partially sent/received data.

An attacker can leverage the limited buffer size to create congestion, enabling them to obtain the shape (i.e., the packer size and transmission time) of a victim traffic flow.
Although encryption has been used to protect data from leakage when transmitted, it does not hide the shape of the traffic.
Previous studies have shown that the shape of the traffic correlates strongly with the transmitted data. 
This correlation can be exploited to inadvertently reveal sensitive information on the network, such as the video being streamed by the user \cite{schuster2017beautyburst} or the website the user is accessing \cite{bhat2019varcnn, wang2014supersequence}. 
Similarly, in interconnects, an adversary can determine the workload running on the GPU, the keystrokes of the user, the webpage being visited by the user \cite{tan2021invisible}, the bitrate of a video being encoded/transcoded, or the initialisation of a new VM in a shared cloud environment \cite{giechaskiel2022cross}. 
In the literature, such attacks that leak data based on the shape of the traffic are known as network side-channel attacks.

Prior work has proposed various mitigations to defend against such network side-channel attacks. However, these solutions either require modifications on the end hosts [??], % portable
only support certain types of traffic or protocols [??], % modular
or have a high overhead and do not scale well with multiple users [??]. % scalable
In addition, limited attention has been given to side channels in interconnects such as PCIe. 
Existing work [??] has focused on saturating the PCIe bandwidth to carry out a side-channel attack. However, this approach leads to a loss in the granularity at which such attacks can extract data.

Interconnects, in general, can be thought of as networks that allow communication between different components of the same server. 
They help the CPU communicate with the peripheral devices like the GPU, the network card, or the storage device. 
Similar to traditional networks, the interconnects also transmit data in the form of packets and buffer them before sending out or when received.
In the case of interconnects like PCIe, these buffers can be on the PCIe controller on the host, the device or a PCIe switch on the path.
Just like the shared buffers on the NIC or switch in traditional networks, the PCIe controller buffers are shared between all applications or processes using the same communication path.

Similar to the side-channel attack mechanism outlined in \ref{sec:network-side-channel-background}, the shared buffers on the PCIe controllers or switches can be exploited to observe the shape of the victim traffic that traverses the PCIe links.
However, obtaining the shape of the victim traffic is challenging, given the high transmission rate and low latency of PCIe transactions compared to traditional networks.

